import time

import board
import digitalio

Pin0 = digitalio.DigitalInOut(board.D0)
Pin0.direction = digitalio.Direction.OUTPUT
Pin2 = digitalio.DigitalInOut(board.D2)
Pin2.direction = digitalio.Direction.OUTPUT
Pin4 = digitalio.DigitalInOut(board.D4)
Pin4.direction = digitalio.Direction.OUTPUT


def Fibonacci(n):
    a = 0
    b = 1
    if n < 0:
        print("Incorrect input")
    elif n == 0:
        return a
    elif n == 1:
        return b
    else:
        for i in range(2,n):
            c = a + b
            a = b
            b = c
        return b

fib_512 = 27745922289305716855338470916082815029348872029647830861914852073402148308000613611082094085891168867554589
fib_1024 = 2785293550699592923938812412668093509353307352123703806913182668987369503203465183625616759613324452749958549669966882191117895425015208455469403731272652158240825628484818131485544230827304940519132195299466733282
fib_2048 = 28068201751760541113209004611892322766557926801556756419424083986968314714727996157172546032929843372458753527397061344919986587417493110533831455616883457997685486582628983650599293908141932830226744480342923081054982198248114597831835076494600759283135301047068769273254907441767834557840730669852366903243155053389115511728868808387866489766103499938045875538224232660173988434766403992071664006121698686127581562214298380573
fib_4096 = 2850373826722699597173047515750950593339178089043511895137676653694047178307023910244889688443923619586163564890291999691174417024782600893477697489924562166680828606802634548464331897181658510148111056162766933169520537683589227271383574448892707393281387825428758589545570963756226815561575465627342116167674931728201653183719209149091743782992316003895770932145332642165474882396512935028568446137124573494259869604030715351481211755494149004960255047991424281237627530932218381477169473888085346068072326515595101330625934987442426337170649219214904388632085787949340251055116795473060067211352628230044499353966401523256734886996367786593974218627402850903996180240806716706006012047132476658042620896648409781259072159305246540984806591769930091337127340669099627391992639214113826403976892604856272745941282798757994891141679783399150094507261986530

it = 0

wrong_512 = 0
wrong_1024 = 0
wrong_2048 = 0
wrong_4096 = 0

# Tests
while True:
    Pin0.value = False

    # Start pulse
    Pin2.value = True
    Pin2.value = False

    if (wrong_512>0) or (wrong_1024>0) or (wrong_2048>0) or (wrong_4096>0):
        Pin0.value = True

    #print('Iteration: ', it)
    #print('status: ', wrong_512, wrong_1024, wrong_2048, wrong_4096)

    it = it+1
    res = Fibonacci(512)
    if res != fib_512:
        wrong_512 = wrong_512+1
        print('Fibb 512 INCORRECT!: ', res)

    res = Fibonacci(1024)
    if res != fib_1024:
        wrong_1024 = wrong_1024+1
        print('Fibb 1024 INCORRECT!: ', res)

    res = Fibonacci(2048)
    if res != fib_2048:
        wrong_2048 = wrong_2048+1
        print('Fibb 2048 INCORRECT!: ', res)

    res = Fibonacci(4096)
    if res != fib_4096:
        wrong_4096 = wrong_4096+1
        print('Fibb 4096 INCORRECT!: ', res)

    #time.sleep(2)
